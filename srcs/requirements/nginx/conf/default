server {

    # Escucha en el puerto 443 con SSL habilitado
    listen 443 ssl;
    # Escucha en el puerto 443 con SSL habilitado para conexiones IPv6
    listen [::]:443 ssl;
    # Especifica el nombre del servidor
    server_name agheredi.42.fr;

    # Especifica la ubicación del certificado SSL
    ssl_certificate /etc/ssl/certs/nginx.crt;
    # Especifica la ubicación de la clave privada del certificado SSL
    ssl_certificate_key /etc/ssl/private/nginx.key;
    # Especifica los protocolos SSL que se utilizarán
    ssl_protocols TLSv1.3;

    # Especifica el directorio raíz del servidor
    root /var/www/html;

    # Especifica el archivo de índice predeterminado
    index index.php index.html;

    # Configuración para la ubicación raíz
    location / {
       # Intenta servir el archivo solicitado, si no existe, devuelve un error 404
        try_files $uri $uri/ =404;
    }

    # Configuración para manejar archivos PHP
    location ~ \.php$ {

		# Incluye los parámetros predeterminados de FastCGI
		include snippets/fastcgi_php.conf;

		# Especifica el servidor FastCGI al que se enviarán las solicitudes PHP
		fastcgi_pass wordpress:9000;
		
	}
}
